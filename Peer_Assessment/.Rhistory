setwd("~/datasciencecoursera/Peer_Assessment")
load("~/datasciencecoursera/Peer_Assessment/data/tidyDataset.csv")
xTrain <- read.table("./data/UCI HAR Dataset/train/X_train.txt")
yTrain <- read.table("./data/UCI HAR Dataset/train/y_train.txt")
subjTrain <- read.table("./data/UCI HAR Dataset/train/subject_train.txt")
xTest <- read.table("./data/UCI HAR Dataset/Test/X_Test.txt")
yTest <- read.table("./data/UCI HAR Dataset/Test/y_Test.txt")
subjTest <- read.table("./data/UCI HAR Dataset/Test/subject_Test.txt")
data <- rbind(xTrain, xTest)
features <- read.table("./data/UCI HAR Dataset/features.txt")
colnames(data) <- features$V2
filteredNames <- grep("-mean\\(\\)|-std\\(\\)", names(data))
filteredData <- data[filteredNames]
names(filteredData)
subjects <- rbind(subjTrain, subjTest)
colnames(subjects) <- "subject"
activityCode <- rbind(yTrain, yTest)
activityLabel <- read.table("./data/UCI HAR Dataset/activity_labels.txt")
activities <- cbind(activityCode, activityLabel$V2[match(activityCode$V1,activityLabel$V1)])
colnames(activities) <- c("activity.code", "activity")
dataset <- cbind(subjects, activities, filteredData)
library(reshape2)
dataset_m <- melt(dataset, id=c("subject","activity.code","activity"))
tidyDataset <- dcast(dataset_m, subject+activity~variable, mean)
write.table(tidyDataset, file="./data/tidyDataset.txt", row.names=FALSE, col.names=TRUE)
write.csv(tidyDataset, file="./data/tidyDataset.csv", row.names=FALSE)
View(tidyDataset)
View(tidyDataset)
